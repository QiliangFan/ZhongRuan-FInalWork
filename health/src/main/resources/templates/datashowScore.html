<!DOCTYPE html>
<!--suppress ThymeleafVariablesResolveInspection-->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Mulching a Agriculture Category Bootstrap Responsive web Template|Gallery :: w3layouts</title>
    <!--meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Mulching Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
      Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design"/>
    <!-- 设置 Cache -->
    <meta http-equiv="Expires" content="0"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Cache-Control"
          content="no-cache, no-store, must-revalidate"/>
    <meta http-equiv="Cache" content="no-cache"/>
    <!-- 引入 jquery js -->
    <!-- 引入 echarts js -->
    <script type="text/javascript" src="js/echarts.min.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>

    <script>
        addEventListener("load", function () {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <!--//meta tags ends here-->
    <!--booststrap-->
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" media="all">
    <!--//booststrap end-->
    <!-- font-awesome icons -->
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <!-- //font-awesome icons -->
    <!--stylesheets-->
    <link href="css/style.css" rel='stylesheet' type='text/css' media="all">
    <!--//stylesheets-->
    <!-- Web-Fonts -->
    <!-- //Web-Fonts -->

</head>
<body>
<!--headder-->
<div class="header-outs inner_page-banner " id="home">
    <div class="headder-top">
        <!--//navigation section -->
        <!-- nav -->
        <nav >
            <div id="logo">
                <h1><a href="/jump">Health</a></h1>
            </div>
            <label for="drop" class="toggle">Menu</label>
            <input type="checkbox" id="drop">
            <ul class="menu mt-2">
                <li class="active"><a th:href="@{/jump}">主页</a></li>
                <li class="active"><a th:href="@{/datashowResultToEcharts}">在线定制</a></li>
                <!--<li class="mx-lg-3 mx-md-2 my-md-0 my-1"><a href="about.html">About</a></li>-->
                <!--<li><a href="service.html">Services</a></li>-->
                <li class="mx-lg-3 mx-md-2 my-md-0 my-1">
                    <!-- First Tier Drop Down -->
                    <label for="drop-2" class="toggle toogle-2">个人健康水平<span class="fa fa-angle-down" aria-hidden="true"></span>
                    </label>
                    <a href="#">健康 <span class="fa fa-angle-down" aria-hidden="true"></span></a>
                    <input type="checkbox" id="drop-2">
                    <ul>
                        <li><a href="/nutrientintakedatashow" class="drop-text">居民每日营养摄取概况</a></li>
                        <li><a href="/datashowMyPie" class="drop-text">居民营养摄取来源</a></li>
                        <li><a href="/diseasecausesdatashow" class="drop-text">居民主要疾病</a></li>
                    </ul>
                </li>
                <li class="mx-lg-3 mx-md-2 my-md-0 my-1">
                    <!-- First Tier Drop Down -->
                    <label for="drop-3" class="toggle toogle-2">医疗保障 <span class="fa fa-angle-down" aria-hidden="true"></span>
                    </label>
                    <a href="#">医疗保障 <span class="fa fa-angle-down" aria-hidden="true"></span></a>
                    <input type="checkbox" id="drop-3">
                    <ul>
                        <li><a href="/datashowMedicalInstitution" class="drop-text">卫生机构数量</a></li>
                        <li><a href="/medicalexpendituredatashow" class="drop-text">居民医疗支出</a></li>
                        <li><a href="/showdatapatientnum" class="drop-text">居民患者数统计</a></li>
                        <li><a href="/showdatamedicalbeds" class="drop-text">医疗卫生机构床位数统计</a></li>
                    </ul>
                </li>
                <li class="mx-lg-3 mx-md-2 my-md-0 my-1">
                    <!-- First Tier Drop Down -->
                    <label for="drop-4" class="toggle toogle-2">全国健康水平 <span class="fa fa-angle-down" aria-hidden="true"></span>
                    </label>
                    <a href="#">全国健康水平 <span class="fa fa-angle-down" aria-hidden="true"></span></a>
                    <input type="checkbox" id="drop-4">
                    <ul>
                        <li><a href="/datashowExpectedLifeMap" class="drop-text">全国预期寿命</a></li>
                        <li><a href="/datashowPopulation" class="drop-text">人口增长</a></li>
                    </ul>
                </li>
                <li>
                    <a th:href="@{/jumplogin}" th:style="'color:white'" th:unless="${session.user}" th:text="'Login / Register'">Login / Register</a>
                    <a th:if="${session.user}" th:style="'color:white'" th:text="${session.user.name}+' Hello!'" th:href="@{/userInfo_info}">Login / Register</a>
                    <a th:href="@{/Logout}" th:if="${session.user}" th:style="'color:white'" th:text="'Log out !'">Login / Register</a>
                </li>
            </ul>
        </nav>
        <!-- //nav -->
    </div>
</div>
<!-- //Navigation -->
<!--//headder-->
<!-- short -->
<div class="using-border py-3">
    <div class="inner_breadcrumb  ml-4">
        <ul class="short_ls">
            <li>
                <a href="/jump">主页</a>
                <span>/ /</span>
            </li>
            <li>在线评测</li>
        </ul>
    </div>
</div>
<!-- //short-->
<!--Gallery-->
<section class="gallery py-lg-4 py-md-3 py-sm-3 py-3">
    <div class="container py-lg-5 py-md-4 py-sm-4 py-3">
        <h3 id="score" class="title mb-lg-5 mb-md-4 mb-sm-4 mb-3 text-center"> </h3>
        <div class="row" style="overflow: hidden;margin: 0;">
            <div class="container-fluid" style="padding:0;margin-left:100px ">
                <div id="chart1"
                     style="left:0;width: 1000px; height:600px;margin-bottom: 20px;float:left;margin-left:0px"></div>
            </div>
        </div>

        <div class="row" style="overflow: hidden;margin: 0;">
<!--           评分-->
<!--            <h2><span id="score"></span></h2>-->

        </div>
    </div>




  </section>
<!--//Gallery-->
<!-- footer -->
<footer class="py-lg-4 py-md-3 py-sm-3 py-3">
    <div class="container py-lg-5 py-md-5 py-sm-4 py-3">
        <div class="footer-w3layouts-head text-center">
            <h2><a href="index.html">Health</a></h2>
        </div>
        <div class="social-icons mt-lg-5 mt-md-4 mt-3 text-center">
            <ul>
                <li><a href="#"><span class="fa fa-facebook"></span></a></li>
                <li><a href="#"><span class="fa fa-twitter"></span></a></li>
                <li><a href="#"><span class="fa fa-rss"></span></a></li>
                <li><a href="#"><span class="fa fa-envelope"></span></a></li>
                <li><a href="#"><span class="fa fa-instagram"></span></a></li>
            </ul>
        </div>
        <div class="bottem-wthree-footer text-center pt-md-4 pt-3">
            <p>
                © 2019 Health. All Rights Reserved | Design by <a href="" target="_blank">Our Team</a>
            </p>
        </div>
        <!-- move icon -->
        <div class="text-center">
            <a href="#home" class="move-top text-center mt-3"><i class="fa fa-arrow-up" aria-hidden="true"></i></a>
        </div>
        <!--//move icon -->
    </div>
</footer>
<!--//footer -->
<script type="text/javascript" th:inline="javascript">
    function loadLocalDataAndShow() {
        var myChart = echarts.init(document.getElementById('chart1'));
        var score = document.getElementById('score');

        var option = {
            // backgroundColor: '#FEFBD2',
            tooltip: {
                trigger: 'axis',
                show: true
            },
            radar: {
                indicator: [
                    {
                        name: '力量',
                        max: 100
                    },
                    {
                        name: '体质',
                        max: 100
                    },
                    {
                        name: '敏捷',
                        max: 100
                    },
                    {
                        name: '耐力',
                        max: 100
                    },
                    {
                        name: '运动',
                        max: 100
                    },
                ],
                radius: '70%',
                center: ['43%', '50%'],
                shape: 'circle',
                splitNumber: 4,
                name: {
                    textStyle: {
                        color: 'black',
                        fontSize: 22
                    }
                },
                splitArea: {
                    areaStyle: {
                        color: ['rgba(255,255,255,0.1)',
                            'rgba(255,255,255,0.03)', 'rgba(255,255,255,0.1)',
                            'rgba(255,255,255,0.03)'
                        ]
                    }
                },
                splitLine: {
                    lineStyle: {
                        color: [
                            '#6b6b6b', '#6b6b6b',
                            '#6b6b6b', '#6b6b6b',
                            '#6b6b6b', '#6b6b6b'
                        ].reverse(),
                        width: 3
                    }
                },
                axisLine: {
                    lineStyle: {
                        color: 'rgba(238,238,238, 0.2)'
                    }
                }
            },
            series: {
                name: '',
                type: 'radar',
                tooltip: {
                    trigger: 'item'
                },
                data: [{
                    value: [],

                }],
                symbol: 'circle',
                symbolSize: 12,
                itemStyle: {
                    normal: {
                        color: 'rgba(87,201,255,0.8)',
                        borderColor: 'rgba(87,201,255,0.2)',
                        borderWidth: 12,
                    }
                },
                areaStyle: {
                    normal: {
                        color: 'rgba(13, 178, 255, 0.49)',
                    }
                },
                lineStyle: {
                    normal: {
                        color: 'rgba(13, 178, 255, 0.4)',
                        width: 5
                    }
                },

            }


        }
        myChart.setOption(option);
        myChart.showLoading();

        var userdata = {
            gender: [[${question.gender}]] ,
            age:[[${question.age}]],
            systolic_blood:[[${question.systolic_blood}]],
            diastolic_blood:[[${question.diastolic_blood}]],
            pulse:[[${question.pulse}]],
            lung_capacity:[[${question.lung_capacity}]],
            grip:[[${question.grip}]],
            height:[[${question.height}]],
            weight:[[${question.weight}]],
            waist_length:[[${question.waist_length}]],
            pca_1:[[${question.pca_1}]],
            pca_2:[[${question.pca_2}]],
            pca_3:[[${question.pca_3}]],
            pca_4:[[${question.pca_4}]],
            pca_5:[[${question.pca_5}]],
            pca_6:[[${question.pca_6}]],
            pca_7:[[${question.pca_7}]],
            pca_8:[[${question.pca_8}]],
            pca_9:[[${question.pca_9}]],
            pca_10:[[${question.pca_10}]],
        }

        $.ajax({
            type: 'post',
            url: 'http://10.22.64.136:8081/data/get6w',
            data: userdata,
            success: function (result) {
                myChart.hideLoading();
                option.series.data[0].value = [Math.abs(Math.floor(result.strength/2.5)),Math.abs(Math.floor(result.physique/2.5)),Math.abs(Math.floor(result.quick/2.5)),Math.abs(Math.floor(result.endurance/2.5)),Math.abs(Math.floor(result.exercise/2.5))]
                myChart.setOption(option);

                $.ajax({
                    type:'post',
                    url: 'http://10.22.64.136:8081/data/getScore',
                    data: userdata,
                    success:function (res) {
                        score.innerText = "你的得分是："+res.score
                    },
                    error:function (err) {
                        alert("Data is Error.");
                    }
                });
            },
            error: function (errorMsg) {
                alert("Data is Error.");
                myChart.hideLoading();
            }
        });

    }

    loadLocalDataAndShow();
</script>



</body>
</html>