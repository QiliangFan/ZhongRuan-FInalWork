<!DOCTYPE html>
<!--suppress ThymeleafVariablesResolveInspection-->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Mulching a Agriculture Category Bootstrap Responsive web Template|Gallery :: w3layouts</title>
    <!--meta tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Mulching Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
      Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
    <!-- 设置 Cache -->
    <meta http-equiv="Expires" content="0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control"
          content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Cache" content="no-cache" />
    <!-- 引入 jquery js -->
    <!-- 引入 echarts js -->
    <script type="text/javascript" src="js/echarts.min.js"></script>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script>
      addEventListener("load", function () {
      	setTimeout(hideURLbar, 0);
      }, false);
      
      function hideURLbar() {
      	window.scrollTo(0, 1);
      }
    </script>
    <!--//meta tags ends here-->
    <!--booststrap-->
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css" media="all">
    <!--//booststrap end-->
    <!-- font-awesome icons -->
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <!-- //font-awesome icons -->
    <!--stylesheets-->
    <link href="css/style.css" rel='stylesheet' type='text/css' media="all">
    <!--//stylesheets-->
   <!-- Web-Fonts -->
<!--	<link href="//fonts.googleapis.com/css?family=Poiret+One&amp;subset=cyrillic,latin-ext" rel="stylesheet">-->
<!--	<link href="//fonts.googleapis.com/css?family=Mada:200,300,400,500,600,700,900&amp;subset=arabic" rel="stylesheet">-->
	<!-- //Web-Fonts -->

  </head>
  <body>
  <!--headder-->
  <div class="header-outs inner_page-banner " id="home">
    <div class="headder-top">
      <!--//navigation section -->
      <!-- nav -->
      <nav >
        <div id="logo">
          <h1><a href="/jump">Health</a></h1>
        </div>
        <label for="drop" class="toggle">Menu</label>
        <input type="checkbox" id="drop">
        <ul class="menu mt-2">
          <li class="active"><a th:href="@{/jump}">主页</a></li>
          <li class="active"><a th:href="@{/datashowResultToEcharts}">在线定制</a></li>
          <!--<li class="mx-lg-3 mx-md-2 my-md-0 my-1"><a href="about.html">About</a></li>-->
          <!--<li><a href="service.html">Services</a></li>-->
          <li class="mx-lg-3 mx-md-2 my-md-0 my-1">
            <!-- First Tier Drop Down -->
            <label for="drop-2" class="toggle toogle-2">个人健康水平<span class="fa fa-angle-down" aria-hidden="true"></span>
            </label>
            <a href="#">健康 <span class="fa fa-angle-down" aria-hidden="true"></span></a>
            <input type="checkbox" id="drop-2">
            <ul>
              <li><a href="/nutrientintakedatashow" class="drop-text">居民每日营养摄取概况</a></li>
              <li><a href="/datashowMyPie" class="drop-text">居民营养摄取来源</a></li>
              <li><a href="/diseasecausesdatashow" class="drop-text">居民主要疾病</a></li>
            </ul>
          </li>
          <li class="mx-lg-3 mx-md-2 my-md-0 my-1">
            <!-- First Tier Drop Down -->
            <label for="drop-3" class="toggle toogle-2">医疗保障 <span class="fa fa-angle-down" aria-hidden="true"></span>
            </label>
            <a href="#">医疗保障 <span class="fa fa-angle-down" aria-hidden="true"></span></a>
            <input type="checkbox" id="drop-3">
            <ul>
              <li><a href="/datashowMedicalInstitution" class="drop-text">卫生机构数量</a></li>
              <li><a href="/medicalexpendituredatashow" class="drop-text">居民医疗支出</a></li>
              <li><a href="/showdatapatientnum" class="drop-text">居民患者数统计</a></li>
              <li><a href="/showdatamedicalbeds" class="drop-text">医疗卫生机构床位数统计</a></li>
            </ul>
          </li>
          <li class="mx-lg-3 mx-md-2 my-md-0 my-1">
            <!-- First Tier Drop Down -->
            <label for="drop-4" class="toggle toogle-2">全国健康水平 <span class="fa fa-angle-down" aria-hidden="true"></span>
            </label>
            <a href="#">全国健康水平 <span class="fa fa-angle-down" aria-hidden="true"></span></a>
            <input type="checkbox" id="drop-4">
            <ul>
              <li><a href="/datashowExpectedLifeMap" class="drop-text">全国预期寿命</a></li>
              <li><a href="/datashowPopulation" class="drop-text">人口增长</a></li>
            </ul>
          </li>
          <li>
            <a th:href="@{/jumplogin}" th:style="'color:white'" th:unless="${session.user}" th:text="'Login / Register'">Login / Register</a>
            <a th:if="${session.user}" th:style="'color:white'" th:text="${session.user.name}+' Hello!'" th:href="@{/userInfo_info}">Login / Register</a>
            <a th:href="@{/Logout}" th:if="${session.user}" th:style="'color:white'" th:text="'Log out !'">Login / Register</a>
          </li>
        </ul>
      </nav>
      <!-- //nav -->
    </div>
  </div>
  <!-- //Navigation -->
  <!--//headder-->
    <!-- short -->
    <div class="using-border py-3">
      <div class="inner_breadcrumb  ml-4">
        <ul class="short_ls">
          <li>
            <a href="/jump">主页</a>
            <span>/ /</span>
          </li>
          <li>居民每日营养摄入统计</li>
        </ul>
      </div>
    </div>
    <!-- //short-->
    <!--Gallery-->
    <section class="gallery py-lg-4 py-md-3 py-sm-3 py-3">
      <div class="container py-lg-5 py-md-4 py-sm-4 py-3"  style="height: 1200px;">
        <div id="chart1"
             style="width: 500px; height: 400px; margin-bottom: 20px;float:left"></div>
        <div id="chart2"
             style="width: 500px; height: 400px; margin-bottom: 20px;float:left;margin-left: 100px;"></div>
        <div id="chart3"
             style="width: 800px; height: 600px; margin-bottom: 20px;float:left;margin-left: 150px;"></div>

        <span style="margin-left: 270px;">资料来源:1992全国营养调查, 2002、2012中国居民营养与健康监测</span>
      </div>
    </section>
    <!--//Gallery-->
    <!-- footer -->
    <footer class="py-lg-4 py-md-3 py-sm-3 py-3">
      <div class="container py-lg-5 py-md-5 py-sm-4 py-3">
        <div class="footer-w3layouts-head text-center">
          <h2><a href="index.html">Health</a></h2>
        </div>
        <div class="social-icons mt-lg-5 mt-md-4 mt-3 text-center">
          <ul>
            <li><a href="#"><span class="fa fa-facebook"></span></a></li>
            <li><a href="#"><span class="fa fa-twitter"></span></a></li>
            <li><a href="#"><span class="fa fa-rss"></span></a></li>
            <li><a href="#"><span class="fa fa-envelope"></span></a></li>
            <li><a href="#"><span class="fa fa-instagram"></span></a></li>
          </ul>
        </div>
        <div class="bottem-wthree-footer text-center pt-md-4 pt-3">
          <p> 
            © 2019 Health. All Rights Reserved | Design by <a href="" target="_blank">Our Team</a>
          </p>
        </div>
        <!-- move icon -->
        <div class="text-center">
          <a href="#home" class="move-top text-center mt-3"><i class="fa fa-arrow-up" aria-hidden="true"></i></a>
        </div>
        <!--//move icon -->
      </div>
    </footer>
    <!--//footer -->

    <script type="text/javascript">
      function loadLocalDataAndShow1() {
        var myChart = echarts.init(document.getElementById('chart1'));
        myChart.setOption({
          title : {
            text : '基本营养摄入情况概览'
          },
          tooltip : {
            trigger:'item',//[ default: 'item' ]触发类型。数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。
            formatter:"{a}<br/>{b}:{c} ({d}%)"
          },
          toolbox: {
            feature: {
              dataView: {show: true, readOnly: false},
              restore: {show: true},
              saveAsImage: {show: true}
            }
          },
          legend : {
            top:30,
            orient:'vertical',//图例列表的布局朝向 horizontal/vertical
            x : 'right'	,	// 设置图例显示位置
            data:[],//如果 data 没有被指定，会自动从当前系列中获取。饼图 and 漏斗图 等会取自 series.data 中的 name
            itemgap:10,
            itemWidth:15,
            itemHeight:14,
            selectedMode:'multiple'
          },
          series : [ {
            name : '基本营养物',	// 设置系列的名称，同时是图例的名称
            type : 'pie',		// 设置图标类型
            radius:['50%','70%'],//设置饼状图内外半径
            avoidLabelOverlap:false,//目前不知道有什么用
            label: {
              normal: {
                show: false,
                position: 'center'
              },
              emphasis: {
                show: true,
                textStyle: {
                  fontSize: '30',
                  fontWeight: 'bold'
                }
              }
            },
            labelLine: {
              normal: {
                show: false
              }
            },
            data : []
          } ]
          // ,color:['#68EE85', '#444348','#63B6ED','#7787EC']
        });

        myChart.showLoading();
        var category=[];
        var res = [];
        $.ajax({
          type : 'get',
          url:"getNutrientIntake1",
          dataType : "json",
          success : function(result) {
            $.each(result, function(index, item) {
              res.push({
                name:result[index].name,
                value:result[index].value
              });
              category.push(result[index].name);
            });

            myChart.hideLoading();
            myChart.setOption({
              legend: {
                data: category
              },
              series: [{
                data: res
              }]
            });
          },

          error : function(errorMsg) {
            //请求失败时执行该函数
            alert("图表请求数据失败!");
            myChart.hideLoading();
          }
        });
      };
      loadLocalDataAndShow1();
    </script>

    <script type="text/javascript">
      function loadLocalDataAndShow2() {
        var myChart = echarts.init(document.getElementById('chart2'));
        myChart.setOption({
          title : {
            text : '补充营养摄入情况概览'
          },
          tooltip : {
            trigger:'item',//[ default: 'item' ]触发类型。数据项图形触发，主要在散点图，饼图等无类目轴的图表中使用。
            formatter:"{a}<br/>{b}:{c} ({d}%)"
          },
          toolbox: {
            feature: {
              dataView: {show: true, readOnly: false},
              restore: {show: true},
              saveAsImage: {show: true}
            }
          },
          legend : {
            top:30,
            orient:'vertical',//图例列表的布局朝向 horizontal/vertical
            x : 'right'	,	// 设置图例显示位置
            data:[],//如果 data 没有被指定，会自动从当前系列中获取。饼图 and 漏斗图 等会取自 series.data 中的 name
            itemgap:10,
            itemWidth:15,
            itemHeight:14,
            selectedMode:'multiple'
          },
          series : [ {
            name : '补充营养物',	// 设置系列的名称，同时是图例的名称
            type : 'pie',		// 设置图标类型
            radius:['50%','70%'],//设置饼状图内外半径
            avoidLabelOverlap:false,//目前不知道有什么用
            label: {
              normal: {
                show: false,
                position: 'center'
              },
              emphasis: {
                show: true,
                textStyle: {
                  fontSize: '30',
                  fontWeight: 'bold'
                }
              }
            },
            labelLine: {
              normal: {
                show: false
              }
            },
            data : []
          } ]
          // ,color:['#68EE85', '#444348','#63B6ED','#7787EC']
        });

        myChart.showLoading();
        var category=[];
        var res = [];
        $.ajax({
          type : 'get',
          url:"getNutrientIntake2",
          dataType : "json",
          success : function(result) {
            $.each(result, function(index, item) {
              res.push({
                name:result[index].name,
                value:result[index].value
              });
              category.push(result[index].name);
            });

            myChart.hideLoading();
            myChart.setOption({
              legend: {
                data: category
              },
              series: [{
                data: res
              }]
            });
          },

          error : function(errorMsg) {
            //请求失败时执行该函数
            alert("图表请求数据失败!");
            myChart.hideLoading();
          }
        });
      };
      loadLocalDataAndShow2();
    </script>

    <script type="text/javascript">
      function loadLocalDataAndShow3() {
        var myChart = echarts.init(document.getElementById('chart3'));
        myChart.setOption({
          title : {
            text : '居民摄入能量概览'
          },
          tooltip : {
            trigger:'axis',
            axisPointer: {
              type: 'cross',
              crossStyle: {
                color: '#999'
              }
            }
          },
          toolbox: {
            feature: {
              dataView: {show: true, readOnly: false},
              magicType: {show: true, type: ['line', 'bar']},
              restore: {show: true},
              saveAsImage: {show: true}
            }
          },
          legend : {
            data:['城市','合计','农村'],//如果 data 没有被指定，会自动从当前系列中获取。饼图 and 漏斗图 等会取自 series.data 中的 name

          },
          xAxis: [
            {
              type:'category',
              data: ['1992年','2002年','2012年'],
              axisPointer: {
                type: 'shadow'
              }
            }
          ],
          yAxis: [
            {
              type: 'value',
              min: 2000,
              max: 2400,
              interval:50 ,
              axisLabel: {
                formatter: '{value} 卡'
              }
            }
          ],
          series : [ {
            name:'城市',
            type : 'bar',
            data : []
          },

            {
              name:'合计',
              type:'bar',
              data:[]
            },
            {
              name:'农村',
              type : 'bar',
              data : []

            },

          ]
        });

        myChart.showLoading();
        var country = [];
        var village = [];
        var total = [];
        var year=[];
        $.ajax({
          type : 'get',
          url:"getNutrientIntake3",
          dataType : "json",
          success : function(result) {
            $.each(result, function(index, item) {

              if(result[index].type=="城市")
              {
                country.push(
                        result[index].value

                );
                year.push(result[index].year)
              }
              if(result[index].type=="农村")
              {village.push(
                      result[index].value
              );}
              if(result[index].type=="合计")
              {total.push(
                      result[index].value
              );}

            });

            myChart.hideLoading();
            myChart.setOption({

              series: [
                {
                  data: country
                },
                {data:total}
                ,{data:village}
              ]
            });
          },


          error : function(errorMsg) {
            //请求失败时执行该函数
            alert("图表请求数据失败!");
            myChart.hideLoading();
          }
        });
      };
      loadLocalDataAndShow3();
    </script>

  </body>
</html>